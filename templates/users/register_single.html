{% extends '../basicbootstrap.html'%} {% load static %} {%block title%}Register
| Alcheringa {%endblock%} {% block style %} <link rel="stylesheet" href={%
static "css/register_login.css" %}> <link rel="stylesheet" href={% static
"css/autoFill.css" %}>
<script src="{% static 'js/autoFill.js' %}"></script>
{% endblock %} {% block body %} {% load crispy_forms_tags %}
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
/>
<!-- CSS only -->

<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
  crossorigin="anonymous"
/>
<!-- JavaScript Bundle with Popper -->

{% if request.session.show_alert %}

<script>
  // alert('Registration successful. Check your mail for the link to activate your account.');
  window.location.href = "{% url 'successfull' %}";
</script>

{% endif %}

<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
  crossorigin="anonymous"
></script>
<nav
  class="navbar navbar-light"
  style="background-color: #f6ebff; padding: 1vh 4.5vh"
>
  <div class="ccontainer-fluid" style="width: 100%; height: 100%">
    <a class="cnavbar-brand" href="/">
      <img src="{% static 'images/alcherlogopurple.svg' %}" alt="" />
    </a>
  </div>
</nav>
<style>
  .rj-body {
    width: 80vw;
    margin: auto;
  }
  .rj-back-button {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 10px 24px;
    border-radius: 12px;
    border: 2px solid #000;
    background-color: #f7f1e3;
    color: #000;
    font-family: sans-serif;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    margin-left: 50px;
    margin-top: 30px;
  }

  .rj-arrow {
    font-size: 16px;
    margin-right: 8px;
    line-height: 1;
  }
  .rj-progress-container {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    border-radius: 16px 16px 0px 0px;
    background-color: #009e77;
  }

  .rj-step {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    cursor: pointer;
    transition: opacity 0.3s ease, transform 0.3s ease;
    position: relative;
    z-index: 1;
  }

  .rj-step-circle {
    width: 50px;
    height: 50px;
    background-color: white;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: bold;
    font-size: 20px;
    color: #008080;
    border: 2px solid white;
    transition: all 0.3s ease;
  }

  .rj-step-text {
    margin-top: 10px;
    font-size: 16px;
  }

  .rj-progress-line {
    width: 100px;
    height: 2px;
    background-color: white;
    margin: 0 10px;
    transition: all 0.3s ease;
    z-index: 0;
  }

  .rj-step.rj-active {
    opacity: 1;
  }

  .rj-step.rj-active .rj-step-circle {
    background-color: #eee;
    border-color: #eee;
  }

  .rj-step.rj-inactive {
    opacity: 0.5;
  }

  .rj-button-container {
    margin-top: 50px;
  }

  .rj-nav-button {
    padding: 10px 20px;
    border-radius: 8px;
    background-color: #f0f0f0;
    color: #008080;
    border: none;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  .rj-nav-button:hover {
    background-color: #e0e0e0;
  }
</style>
<div class="rj-body">
  <button class="rj-back-button"><span class="rj-arrow">‚Üê</span> Back</button>
  <div class="rj-head">Registration</div>
  <div class="rj-form-container">
    <div class="rj-form-first">
      <div class="rj-progress-container">
        <!-- Step 1 -->
        <div class="rj-step rj-active" data-step="1">
          <div class="rj-step-circle">1</div>
          <div class="rj-step-text">Personal details</div>
        </div>

        <!-- Connecting Line -->
        <div class="rj-progress-line"></div>

        <!-- Step 2 -->
        <div class="rj-step rj-inactive" data-step="2">
          <div class="rj-step-circle">2</div>
          <div class="rj-step-text">CA Details</div>
        </div>
      </div>
    </div>
    <div class="rj-form-second">
      <div class="rj-button-container">
        <button class="rj-nav-button" id="nextButton">Next</button>
      </div>
    </div>
  </div>
</div>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const steps = document.querySelectorAll(".rj-step");
    const buttonContainer = document.querySelector(".rj-button-container");

    let currentStepIndex = 0;

    const updateUI = () => {
      // Remove all state classes from steps
      steps.forEach((s) => {
        s.classList.remove("rj-active", "rj-inactive");
      });

      // Set the correct state for each step
      steps.forEach((s, index) => {
        if (index === currentStepIndex) {
          s.classList.add("rj-active");
        } else {
          s.classList.add("rj-inactive");
        }
      });

      // Update the button based on the current step
      if (currentStepIndex === 0) {
        buttonContainer.innerHTML =
          '<button class="rj-nav-button" id="nextButton">Next</button>';
      } else {
        buttonContainer.innerHTML =
          '<button class="rj-nav-button" id="backButton">Back</button>';
      }

      // Re-add event listeners to the new buttons
      document
        .getElementById("nextButton")
        ?.addEventListener("click", handleNext);
      document
        .getElementById("backButton")
        ?.addEventListener("click", handleBack);
    };

    const handleNext = () => {
      if (currentStepIndex < steps.length - 1) {
        currentStepIndex++;
        updateUI();
      }
    };

    const handleBack = () => {
      if (currentStepIndex > 0) {
        currentStepIndex--;
        updateUI();
      }
    };

    // Initial UI setup
    updateUI();
  });
</script>

{% include 'users/login.html' %} {% endblock %}
