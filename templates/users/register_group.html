{% extends '../basicbootstrap.html'%}
{% load static %}
{%block title%}Register | Alcheringa{%endblock%}
{% block style %}
<link rel="stylesheet" href={% static "css/register_login.css" %}>
<link rel="stylesheet" href={% static "css/autoFill.css" %}>
<script src="{% static 'js/autoFill.js' %}"></script>

{% endblock %}
{% block body %}
{% load crispy_forms_tags %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
	integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous">
</script>

{% if request.session.show_alert %}

    <script>
        window.location.href = "{% url 'successfull' %}";
    </script>
    
{% endif %}

<nav class="navbar navbar-light" style="background-color: #F6EBFF; padding: 1vh 4.5vh">
	<div class="ccontainer-fluid" style="width: 100%; height:100%">
		<a class="cnavbar-brand" href="/">
			<img src="{% static 'images/alcherlogopurple.svg' %}" alt="">
		</a>
	</div>
</nav>
<style>
	@media only screen and (max-width:950px) {
		.img-div {
			display: none;
		}
		.ccol{
			width: 100%;
		}
	}
	.bg-pur{
        background-color: #B542FB;
    }
    .bg-pur:hover{
        background-color: #a715ff;
    }
	.crow{
		display: flex;
		justify-content: center;
		align-items: center;
		padding: 5vh;
		gap: 5px;
	}
</style>
<div class="crow">
	<div class="ccol form-div">
		<div class="ccontainer form-wrapper">
			<h2>Registration</h2>


			<div class="cform">
				<div class="cform-head my-2 mb-4">
					<div class="row1" style="display: flex; justify-content:space-evenly; background-color: #F6EBFF;padding: 1.5vh 1vh; gap:10px;">
						<div >
							<a href="{% url 'register_single' %}" type="button" class="register-top"
								style="text-decoration: none;font-weight: 500;color:rgb(141, 141, 141)">Solo
								Registration</a>

						</div>
						<div >
							<a href="{% url 'register_group' %}" type="button" class="register-top"
								style="text-decoration: none;font-weight: 500;color:#B542FB;">Team
								Registration</a>

						</div>
					</div>
				</div>

				<!-- <div class="progress-bar-container">
					<i type="button" class="fa fa-chevron-circle-left" id="GoBack" style="color: #B542FB;"></i>
					<div class="step step1"style="background-color: #B542FB;">1</div>
					<div class="connector connector1"></div>
					<div class="step step2">2</div>
					<div class="connector connector2"></div>
					<div class="step step3">3</div>
				</div> -->
				<div class="accordion-item" style="background-color: white;">
					<h2 class="accordion-header" id="flush-headingOne">
						<button id="guidelinesButton" class="accordion-button collapsed btn-primary" type="button"
							data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false"
							aria-controls="flush-collapseOne" style="background-color: white;">
							<a href="#" class="guidelinesTag" style="background-color: #B542FB;">
								Guidelines</a>
						</button>
					</h2>
					<div class="overlay_grp" id="overlay_grp">
						<div id="flush-collapseOne" class="accordion-collapse collapse"
							style="background-color: #F3F6F8; padding: 10px; border-radius: 6px; color: #616C74; margin: 15px;"
							aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
							<div class="accordion-body">
								<div class="content" style="height:55vh; overflow-y:scroll; padding: 1% 5%;">
									<br> 1) For the first time in Alcheringa, we bring you the ease of showing as a Team
									of two
									for the Campus Ambassador programme.
									<br> 2) Terms and conditions to show as a team:
									<br> &nbsp;&nbsp;&nbsp;&nbsp;a) The team should consist of a Leader and executive.
									<br>
									&nbsp;&nbsp;&nbsp;&nbsp;b) There must be a minimum gap of one academic year between
									the lead and executive,
									making the leader by minimum a one year senior to the executive in respective
									fields.
									<br> 3) Fill out CA’s Alcheringa’s details, from your name to
									password,
									as part of the process to complete registration.
									<br> 4) Text fields marked with a red asterisk mark (*) makes them mandatory to
									fill.
									<br> 5) Fill up the Position of Responsibility (POR) field with your role in your
									organisation or university. For instance:
									<br>&nbsp;&nbsp;&nbsp;&nbsp;a) Student.
									<br> &nbsp;&nbsp;&nbsp;&nbsp;b) Secretary of the Music/Arts Club
									<br> &nbsp;&nbsp;&nbsp;&nbsp;c) Fill up the role you serve.
									<br> 6) Fill in the interested module(s) field with the performing arts, practices,
									and
									activities that interest you. As an example:
									<br> &nbsp;&nbsp;&nbsp;&nbsp;a) Music.
									<br> &nbsp;&nbsp;&nbsp;&nbsp;b) Dance, photography, sports etc.
									<br> 7)Kudos; you are just a click away from showing up as a team. Click the submit
									button
									and finish the email-based verification to dive into the Dashboard.
									<br> 8)Email verification:
									<br> &nbsp;&nbsp;&nbsp;&nbsp;a) After pressing the submit button, Alcheringa will
									send two verification mails
									to both leader and executive.
									<br> &nbsp;&nbsp;&nbsp;b) After completing the verification, both the leader and
									executive should use the
									same password to get into Dashboard, provided email is their username.
									<br> &nbsp;&nbsp;&nbsp;c) After getting into the Dashboard, we recommend both leader
									and executive change
									their common password by going into the profile section.
									<br>
									<br>
								</div>
								<button class="btn btn-primary" style="background-color: #B542FB; border: none; margin:3%; padding: 1% 5%;"
									id="backBtn" >Back</button>
							</div>
						</div>
					</div>
				</div>
				<form method="POST">
					{% csrf_token %}


					<div id="form1" style="overflow-y:scroll;">
						<p class="my-1">Field marked * are mandatory</p>
						<h3>Team Leader</h3>
						<ul class="errorlist">
							{% if single_user_register_form_1.non_field_errors %}
							<li>{{ single_user_register_form_1.non_field_errors }}</li>
							{% endif %}
							{% for field in single_user_register_form_1 %}
							{% if field.errors %}
							<ul class="errorlist">
								{% for error in field.errors %}
								{{ error }}
								{% endfor %}
							</ul>
							{% endif %}
							{% endfor %}
						</ul>
						
						{{ single_user_register_form_1.firstname }}
						{{ single_user_register_form_1.email }}
						{{ single_user_register_form_1.phone }}
						{{ single_user_register_form_1.graduation_year }}
						<!-- {{ single_user_register_form.college_state }}
					{{ single_user_register_form.college_city }}
					{{ single_user_register_form.college_name }} -->
						{{ single_user_register_form_1.position_of_responsibility }}
						{{ single_user_register_form_1.interested_modules }}
						{% comment %} <p class="my-1">Field marked * are mandatory</p> {% endcomment %}
						<h3>Team Executive</h3>
						<ul class="errorlist">
							{% if single_user_register_form_2.non_field_errors %}
							<li>{{ single_user_register_form_2.non_field_errors }}</li>
							{% endif %}
							{% for field in single_user_register_form_2 %}
							{% if field.errors %}
							<ul class="errorlist">
								{% for error in field.errors %}
								{{ error }}
								{% endfor %}
							</ul>
							{% endif %}
							{% endfor %}
						</ul>
						{{ single_user_register_form_2.firstname }}
						{{ single_user_register_form_2.email }}
						{{ single_user_register_form_2.phone }}
						{{ single_user_register_form_2.graduation_year }}

						{{ single_user_register_form_2.position_of_responsibility }}
						{{ single_user_register_form_2.interested_modules }}

						{% comment %} <p class="my-1">Field marked * are mandatory</p> {% endcomment %}
						<h3>Other Fields</h3>
						<ul class="errorlist">
							{% if group_user_register_form.non_field_errors %}
							<li>{{ group_user_register_form.non_field_errors }}</li>
							{% endif %}
							{% for field in group_user_register_form %}
							{% if field.errors %}
							<ul class="errorlist">
								{% for error in field.errors %}
								{{ error }}
								{% endfor %}
							</ul>
							{% endif %}
							{% endfor %}
						</ul>
						{{ group_user_register_form.college_name }}
						<div class="StateAndCity" >
							<div style="width:100%">
								<input type="text" id="state" name="college_state" onkeyup="suggestState()" autocomplete="off"
							 placeholder="College State*">

						<div id="state-suggestions"></div>
							</div>
						<div style="width:100%">
							<input type="text" id="city" name="college_city" onkeyup="suggestCity()" autocomplete="off"
							placeholder="College City*">
						<div id="city-suggestions"></div>
						</div>
						
						</div>
						
						{{ group_user_register_form.referred_by }}
						<input type="password" name="password1" class="input_field" placeholder="Set Password *"
							required id="id_password1" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
							title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters">

						<input type="password" name="password2" class="input_field" placeholder="Confirm Password *"
							required id="id_password2" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
							title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters">

						<input type="submit" id="form-submit-btn"
							class="bg-pur text-white inline-block py-2 px-4 rounded shadow-sm  text-base"
							style="background-color: #B542FB;" />
						<!-- <button type="button" id="nextButton" class="btn btn-primary"
							style="background-color:#B542FB ; border: none;">Next Page</button> -->
					</div>

					<!-- <div id="form2" style="display: none;">

						
						<button type="button" id="nextButton2" class="btn btn-primary"
							style="background-color:#B542FB ;border: none;">Next Page</button>
					</div>
					<div id="form3" style="display: none;">

						
					</div> -->
					<p style="color:green; display:none;" id="showload">Please Wait, don't refresh the page...</p>
				</form>
				<br />
				Registered already? <a id="navlink5" style="cursor:pointer; color:#B542FB;">Login</a>
				<br /><br />
			</div>

		</div>
	</div>
	<div class="ccol img-div" style = "width: 40%">
		<img src="{% static 'images/registergroup.jpg' %}" alt="" style="width: 30%; position:fixed; left:90%; top:50%; transform:translate(-90%,-50%);">
	</div>
</div>




<script>
	document.addEventListener("DOMContentLoaded", function () {
		const guidelinesButton = document.getElementById("guidelinesButton");
		const overlay_grp = document.getElementById("overlay_grp");
		const backBtn = document.getElementById("backBtn");
		const form1 = document.getElementById("form1");
		const form2 = document.getElementById("form2");
		const form3 = document.getElementById("form3");
		const nextButton = document.getElementById("nextButton");
		const GoBack = document.getElementById("GoBack");
		guidelinesButton.addEventListener("click", function () {
			const popupContainer = document.getElementById("flush-collapseOne");
			if (popupContainer.classList.contains("show")) {
				popupContainer.classList.remove("show");
				overlay_grp.style.display = "none";
			} else {
				popupContainer.classList.add("show");
				overlay_grp.style.display = "block";
			}
		});
		backBtn.addEventListener("click", function () {
			const popupContainer = document.getElementById("flush-collapseOne");
			if (popupContainer.classList.contains("show")) {
				popupContainer.classList.remove("show");
				overlay_grp.style.display = "none";
			}
		})

		//form next button
		nextButton.addEventListener("click", function () {
			form1.style.display = "none";
			form2.style.display = "block";
			document.querySelector(".connector1").classList.add("completed");
			document.querySelector(".step2").classList.add("completed");

		});
		nextButton2.addEventListener("click", function () {
			form2.style.display = "none";
			form3.style.display = "block";		
			document.querySelector(".connector2").classList.add("completed");
			document.querySelector(".step3").classList.add("completed");

		});
		//form back button
		GoBack.addEventListener("click", function () {
			if (form2.style.display == "none"&&form3.style.display=="none") {
				var previousURL ="/";
				window.location.href = previousURL;
			}
			else if (form2.style.display == "block") {
				form1.style.display = "block";
				form2.style.display = "none";
				document.querySelector(".step2").classList.remove("completed");
				document.querySelector(".connector1").classList.remove("completed");
			} else if (form3.style.display == "block") {
				form2.style.display = "block";
				form3.style.display = "none";
				document.querySelector(".step3").classList.remove("completed");
				document.querySelector(".connector2").classList.remove("completed");
			}
		})
	});


	document.getElementById("form-submit-btn").addEventListener("click", showloading);

	function showloading() {
		document.getElementById("showload").style.display = "block"
	}
</script>
{% include 'users/login.html' %}
{% endblock %}