{% load mathfilters %}
<style>
    @media screen and (min-width: 640px) {
    .myprogress{
        display: flex;
        justify-content: space-between;
    }
    .level{
        width: 39.5%;
    }
    .my-progress{
        width: 59.5%;
    }
    }
    @media screen and (max-width: 640px) {
        .my-progress{
            margin-top: 0.5rem;
        }
    }
</style>
{% load static %}
<link rel="stylesheet" href={% static "css/font.css" %}>
<div class="myprogress gen">
    <div class="level bg-white rounded-md shadow-md">
        <div class="py-3 font-medium text-lg border-b pl-6" style="font-size: 1.2rem; font-weight: 750;font-family: General Sans, sans-serif;">Level</div>
        <div class=" flex justify-center w-full min-w-x">
            <div class=" py-4 px-8 flex flex-col align-items-center">
                <div style="width: 9.5rem;align-items: end;display: flex;">
                    <div style="margin: 67px 53px;" class=" absolute">
                        <svg width="46" height="44" viewBox="0 0 37 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M34.3234 4.34916H28.9342V2.59267C28.9342 2.12682 28.7449 1.68005 28.408 1.35064C28.0711 1.02124 27.6142 0.836182 27.1378 0.836182H9.17369C8.69725 0.836182 8.24033 1.02124 7.90344 1.35064C7.56654 1.68005 7.37728 2.12682 7.37728 2.59267V4.34916H1.98806C1.51162 4.34916 1.0547 4.53421 0.717806 4.86362C0.380914 5.19303 0.19165 5.63979 0.19165 6.10564V11.3751C0.19165 18.9456 3.42518 23.5124 8.85033 23.6705C9.6419 25.0089 10.7249 26.1606 12.0226 27.0439C13.3203 27.9273 14.8009 28.5206 16.3593 28.7819V32.453H12.7665V35.9659H23.5449V32.453H19.9521V28.7819C21.5106 28.5206 22.9911 27.9273 24.2888 27.0439C25.5865 26.1606 26.6695 25.0089 27.4611 23.6705C32.8503 23.4949 36.1198 18.928 36.1198 11.3751V6.10564C36.1198 5.63979 35.9305 5.19303 35.5936 4.86362C35.2568 4.53421 34.7998 4.34916 34.3234 4.34916ZM3.78447 11.3751V7.86213H7.37728V19.8589C4.17967 18.5416 3.78447 13.6585 3.78447 11.3751ZM28.9342 19.8589V7.86213H32.527V11.3751C32.527 13.6585 32.1318 18.5416 28.9342 19.8589Z"
                                fill="#334D6E" />
                        </svg>
                    </div>
                    <div id="level-value" style="margin: 35px 56px;color: black;font-size: 1.5rem;" class="absolute font-medium text-xl ">NaN</div>
                    <canvas id="level-pie"></canvas>
                </div>
                <div class=" my-2">
                    <div class="text-xl font-medium text-center" style="font-family: General Sans, sans-serif;font-weight: 700;font-size: 1.2rem;">
                        {%if rank <= 5 %}
                        Platinum
                        <p style="font-family: General Sans, sans-serif;font-size:1rem;color: #4C5862;">You are at Platinum level</p>
                        {%elif rank >= 6 and rank <= 30 %}
                        Gold
                        <p style="font-family: General Sans, sans-serif;font-size:1rem;color: #4C5862;">{{rank|sub:5}} more ranks to Platinum</p>
                        {%elif rank >= 31 and rank <= 80 %}
                        Silver
                        <p style="font-family: General Sans, sans-serif;font-size:1rem;color: #4C5862;">{{rank|sub:30}} more ranks to Gold</p>
                        {%elif rank >= 81 %}
                        Bronze
                        <p style="font-family: General Sans, sans-serif;font-size:1rem;color: #4C5862;">{{rank|sub:80}} more ranks to Silver</p>
                        <!-- <p>{{ 6|sub:rank }} more points to Gold</p> -->
                        {% endif %}
                    </div>
                    <!-- <div class=" text-center whitespace-nowrap" style="font-family: General Sans, sans-serif;">
                        {%if rank <= 5 %}
                        You are at Platinum level
                        {%elif rank >= 6 and rank <= 30 %}
                        {{rank|sub:5}} more ranks to Platinum
                        {%elif rank >= 31 and rank <= 80 %}
                        {{rank|sub:30}} more ranks to Gold
                        {%elif rank >= 81 %}
                        {{rank|sub:80}} more ranks to Silver
                        {% endif %}
                    </div> -->
                </div>
            </div>
        </div>
    </div>
    <div class="my-progress bg-white rounded-md shadow-md w-full">
        <div class="py-3 pl-6 font-medium text-lg border-b" style="font-size: 1.2rem; font-weight: 750;font-family: General Sans, sans-serif;">My Progress</div>
        <div class=" flex justify-around p-4">
            <div class=" flex flex-col justify-center">
                <div class="h-40 flex" style="width:9.5rem; align-items:end;">
                    <div id="tasks-completed-value" style="font-size: 2rem; margin: 53px 61px;"
                        class="absolute font-medium">NaN</div>
                        <canvas id="tasks-completed-pie"></canvas>
                </div>
                <div class=" my-2">
                    <div class=" text-xl font-medium text-center" style="font-family: General Sans, sans-serif;font-weight: 700;font-size: 1.2rem;">Tasks completed
                    </div>
                        <div class=" text-gray-600 text-center "><span id = "task-points"></span> </div>
                </div>
            </div>
            <div>
                <div class=" w-40 h-40">
                    <div id="referrals-value" style="font-size: 2rem; margin: 60px 60px;" class="absolute font-medium">
                        NaN</div>
                    <canvas id="referrals-pie"></canvas>
                </div>
                <div class=" my-2">
                    <div class=" text-xl font-medium text-center" style="font-family: General Sans, sans-serif;font-weight: 700;font-size: 1.2rem;">Referrals</div>
                    <div class=" text-gray-600 text-center "><span id = "referral-points"></span> </div>
                </div>
            </div>
        </div>
    </div>
</div>
